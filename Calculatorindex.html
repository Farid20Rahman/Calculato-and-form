<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Scientific Calculator</title>

	<link rel="stylesheet" href="css/font-awesome.min.css">

	<link rel="stylesheet" href="css/bootstrap.min.css">

	<style>

		@font-face {
			font-family: 'Calculator';
			font-style: normal;
			font-weight: 400;
			font-family:"Helvetica Nueu", arial , Sans-serif;
		}

		body {
			padding: 100px;
            background: url(DOfV1vMW0AEVJsP.jpg)
		}

		h4 {
			text-align: center;
            opacity;
		}

		#calculator {
			display: block;
			margin: 0 auto;
			max-width: 900px;
		}

		#led {
			height: 100px;
			background: #0606060a;
			margin-bottom: 30px;
			padding: 5px 5px 0;
			font-size: 40px;
			text-align: right;
			font-family:"Helvetica Nueu", arial , Sans-serif;
		}

		#oldInput {
			height: 35px;
			font-size: 25px;
		}

		.numberButton,
		.clearButton,
		.operatorButton,
		.specialButton,
		.equalsButton {
			text-align: center;
			width: 75px;
			padding: 10px 10px;
			margin: 2px 0;
            border-bottom-right-radius: 10px;
		}

		#equalsto {
			width: 154px;
		} 
	</style>
</head>
<body>

	<h4>Scientific Calculator</h4>



	<div id="calculator">
		
		<div id="led">
			<div id="oldInput"></div>

			<div id="newInput"></div>
		</div>

		<div class="row">
			<div class="col-md-5 col-md-offset-1">
				<div id="buttons">
					<div>
						<input onclick="btnclick(this.id)" type="button" class="specialButton" id="" value="Inv">
						<input onclick="btnclick(this.id)" type="button" class="specialButton" id="" value="In">
						<input onclick="btnclick(this.id)" type="button" class="specialButton" id="" value="(">
						<input onclick="btnclick(this.id)" type="button" class="specialButton" id="" value=")">
					</div>
					<div>
						<input onclick="btnclick(this.id)" type="button" class="specialButton" id="sin" value="sin">
                        <input onclick="btnclick(this.id)" type="button" class="specialButton" id="cos" value="cos">
                        <input onclick="btnclick(this.id)" type="button" class="specialButton" id="tan" value="tan">
						<input onclick="btnclick(this.id)" type="button" class="specialButton" id="factorial" value="n!">
					</div>
					<div>
						<input onclick="btnclick(this.id)" type="button" class="specialButton" id="square" value="x^2">
						<input onclick="btnclick(this.id)" type="button" class="specialButton" id="power" value="x^y">
						<input onclick="btnclick(this.id)" type="button" class="specialButton" id="inverse" value="y&radic;x">
                        <input onclick="btnclick(this.id)" type="button" class="specialButton" id="cube" value="x^3">
					</div>
					<div>
						

					</div>
					<div>
						<input onclick="btnclick(this.id)" type="button" class="specialButton" id="exp" value="Exp">
						<input onclick="btnclick(this.id)" type="button" class="operatorButton" id="modulus" value="Mod">
						<input onclick="btnclick(this.id)" type="button" class="specialButton" id="log" value="log">
						<input onclick="btnclick(this.id)" type="button" class="specialButton" id="log-In" value="In">
					</div>
				</div>
			</div>

			<div class="col-md-6">
				
				<div id="buttons">
					<div>
						<input onclick="btnclick(this.id)" type="button" class="clearButton" id="clr1" value="&#8592;">
						<input onclick="btnclick(this.id)" type="button" class="clearButton" id="clr2" value="CE">

						<input onclick="btnclick(this.id)" type="button" class="operatorButton" id="sign" value="&#8723;">
                        <input onclick="btnclick(this.id)" type="button" class="specialButton" id="cube-root" value="&#8731;">
						<input onclick="btnclick(this.id)" type="button" class="specialButton" id="sqrt-root" value="&radic;">
					</div>
					<div>
						<input onclick="btnclick(this.id)" type="button" class="numberButton" id="no7" value="7">
						<input onclick="btnclick(this.id)" type="button" class="numberButton" id="no8" value="8">
						<input onclick="btnclick(this.id)" type="button" class="numberButton" id="no9" value="9">

						<input onclick="btnclick(this.id)" type="button" class="operatorButton" id="divide" value="/">

						<input onclick="btnclick(this.id)" type="button" class="specialButton" id="percentage" value="%">
					</div>
					<div>
						<input onclick="btnclick(this.id)" type="button" class="numberButton" id="no4" value="4">
						<input onclick="btnclick(this.id)" type="button" class="numberButton" id="no5" value="5">
						<input onclick="btnclick(this.id)" type="button" class="numberButton" id="no6" value="6">

						<input onclick="btnclick(this.id)" type="button" class="operatorButton" id="times" value="*">

						<input onclick="btnclick(this.id)" type="button" class="specialButton" id="reciproc" value="1/x">
					</div>
					<div>
						<input onclick="btnclick(this.id)" type="button" class="numberButton" id="no1" value="1">
						<input onclick="btnclick(this.id)" type="button" class="numberButton" id="no2" value="2">
						<input onclick="btnclick(this.id)" type="button" class="numberButton" id="no3" value="3">

						<input onclick="btnclick(this.id)" type="button" class="operatorButton" id="minus" value="-">
						<input onclick="btnclick(this.id)" type="button" class="specialButton" id="inverse" value="&Pi;">
					</div>
					<div>
						<input onclick="btnclick(this.id)" type="button" class="numberButton" id="" value="0">
						<input onclick="btnclick(this.id)" type="button" class="numberButton" id="decimal" value=".">

						<input onclick="btnclick(this.id)" type="button" class="operatorButton" id="plus" value="+">
						<input onclick="btnclick(this.id)" type="button" class="equalsButton" id="equalsto" value="=">
					</div>
				</div>
			</div>
		</div>

	</div>

	<script src="js/jquery.min.js"></script>
	<script src="js/bootstrap.min.js"></script>

	<script>

		function el (element) {
			if (element.charAt(0) === "#") { // If passed an ID...
				return document.querySelector(element); // ... returns single element
			}

			return document.querySelectorAll(element); // Otherwise, returns a nodelist
		}

		var display = document.getElementById('newInput'),
		oldDis = document.getElementById('oldInput'),
		oldNum, newNum = "",
		operator, result,
		btns = el('.calcBtn');


		function updateDisplay (result, old = ""){
			display.innerHTML = result;

			oldDis.innerHTML = old;
		}
		
		function btnclick (id){		
			//console.log(id);
			var btnClass = document.getElementById(id).className;

			switch (btnClass) {
				case "numberButton":
				numberButton(id);
				break;

				case "operatorButton":
				operatorButton(id);
				break;

				case "specialButton":
				specialButton(id);
				break;

				case "equalsButton":
				equals();
				break;

				case "clearButton":
				clear(id);
				break;
			}
		}

		function numberButton (id) {
			var num = id.charAt(2);
			newNum += num;

			if (oldDis.innerHTML != "") {
				updateDisplay(newNum, oldDis.innerHTML);
			}
			else {
				updateDisplay(newNum);
			}
		}

		function operatorButton (id) {
			oldNum = newNum;
			newNum = "";
			operator = id;
			var opSign = document.getElementById(id).value;

			if (result) {
				oldNum = result;
			}

			var oldStr = oldNum + " " + opSign;

			updateDisplay(oldNum, oldStr);

		}

		function clear (id) {
			switch(id) {
				case "clr1":
				newNum = newNum.slice(0, newNum.length - 1);
				break;

				case "clr2":
				newNum = "";
				break;

				case "clr3":
				oldNum = "";
				newNum = "";
				break;
			}

			updateDisplay(newNum);
		}

		function equals () {

			oldNum = parseFloat(oldNum);
			newNum = parseFloat(newNum);

			switch (operator) {
				case "plus":
				result = oldNum + newNum;
				break;

				case "minus":
				result = oldNum - newNum;
				break;

				case "times":
				result = oldNum * newNum;
				break;

				case "divide":
				result = oldNum / newNum;
				break;

				case "modulus":
				result = oldNum % newNum;
				break;

				// If equal is pressed without an operator, keep number and continue
				default:
				result = newNum;
				delete operator;
			}

			console.log("Old = " + oldNum + "\nOp = " + operator + "\nNew = " + newNum + "\nResult = " + result)

			updateDisplay(result);
			newNum = "";
		}
		
		function specialCalc () {
			if (newNum) {
				return newNum;
			}
			else {
				return result;
			}
		}

		function toDegrees (angle) {
			return angle * (180 / Math.PI);
		}

		function specialButton (id) {
			var calc = specialCalc();



			switch(id) {
				case "sqrt-root":
				result = Math.sqrt(calc);
				break;

				case "square":
				result = eval(calc * calc);
				break; 

				case "reciproc":
				result = 1/calc;
				break;

				case "factorial":
				var number = 1;
				
				if (calc === 0) {
					result = "0";
				} else if (calc < 0) {
					result = "Error";
				} else {
					var number = 1;
					for (var i = calc; i > 0; i--){
						number *= i;
					}
					result = number;
				}

				case "pi":
				result = calc * Math.PI;
				break;

				case "sin":
				result = Math.sin(calc * (Math.PI / 180));
				break;

				case "cos":
				result = Math.cos(calc * (Math.PI / 180));
				break;

				case "tan":
				result = Math.tan(calc * (Math.PI / 180));
				break;

				case "sin-inv":
				//result = Math.asin(calc * (Math.PI / 180));
				result = Math.asin(calc);
				break;

				case "cos-inv":
				result = Math.acos(calc * (Math.PI / 180));
				break;

				case "tan-inv":
				result = Math.atan(calc * (Math.PI / 180));
				break;

				case "log":
				result = Math.log10(calc);
				break;

				case "log-In":
				result = Math.log(calc);
				break;

				case "exp":
				result = Math.exp(calc);
			}

			updateDisplay(result);
			newNum = "";

		}

		// Add click event to operators
		//for (var i = 0, l = btns.length; i < l; i++) {
		//	btns[i].onclick = btnclick(btns);
		//}

	</script>

</body>
</html>